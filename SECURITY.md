# Security Policy

## Supported Versions

В настоящее время поддерживаются следующие версии проекта:

| Version | Supported          |
| ------- | ------------------ |
| 1.0.x   | :white_check_mark: |
| < 1.0   | :x:                |

## Reporting a Vulnerability

Мы серьезно относимся к безопасности Document QA Agent. Если вы обнаружили уязвимость в системе безопасности, пожалуйста, сообщите нам об этом ответственным образом.

### Как сообщить об уязвимости

**НЕ создавайте публичный issue для проблем безопасности.**

Вместо этого:

1. Отправьте информацию через GitHub Security Advisories:
   - Перейдите на вкладку "Security" репозитория
   - Нажмите "Report a vulnerability"
   - Заполните форму с деталями

2. Или отправьте email (если указан в профиле)

### Что включить в отчет

Пожалуйста, предоставьте следующую информацию:

- Тип уязвимости (например, XSS, SQL Injection, Command Injection)
- Полное описание проблемы
- Шаги для воспроизведения
- Потенциальное влияние
- Возможные варианты решения (если есть)
- Ваши контактные данные для связи

### Процесс обработки

1. **Подтверждение**: Мы подтвердим получение вашего отчета в течение 48 часов
2. **Оценка**: Мы оценим уязвимость и ее влияние
3. **Исправление**: Мы разработаем и протестируем исправление
4. **Раскрытие**: Мы согласуем с вами время публичного раскрытия
5. **Благодарность**: Мы публично поблагодарим вас (если вы согласны)

### Безопасное использование

#### Защита API ключей

- **НИКОГДА** не коммитьте API ключи в репозиторий
- Используйте `.env` файлы (они в `.gitignore`)
- Храните ключи в безопасных системах управления секретами
- Регулярно ротируйте ключи

#### Безопасность данных

- Обрабатывайте конфиденциальные документы осторожно
- Не отправляйте конфиденциальные данные в облачные LLM без необходимости
- Рассмотрите использование локальных моделей для чувствительных данных
- Регулярно очищайте временные файлы

#### Безопасность развертывания

- Используйте HTTPS в продакшене
- Настройте аутентификацию и авторизацию
- Ограничьте доступ к API
- Используйте rate limiting
- Регулярно обновляйте зависимости

#### Проверка зависимостей

Регулярно проверяйте зависимости на уязвимости:

```bash
# Установите safety
pip install safety

# Проверьте зависимости
safety check -r requirements.txt

# Или используйте pip-audit
pip install pip-audit
pip-audit
```

#### Обновление зависимостей

```bash
# Проверьте устаревшие пакеты
pip list --outdated

# Обновите конкретный пакет
pip install --upgrade package-name

# Обновите все (осторожно!)
pip install --upgrade -r requirements.txt
```

## Известные проблемы безопасности

### GigaChat SSL Verification

В текущей версии GigaChat клиент использует `verify=False` для SSL сертификатов, так как GigaChat использует самоподписанные сертификаты. Это потенциальная проблема безопасности в продакшене.

**Решение**: Добавьте корректный сертификат или используйте другой LLM провайдер для критичных систем.

### Injection атаки

Система обрабатывает пользовательский ввод в промпты LLM. Всегда валидируйте и санитизируйте пользовательский ввод.

## Best Practices

1. **Изоляция окружения**: Используйте виртуальные окружения
2. **Минимальные привилегии**: Запускайте с минимально необходимыми правами
3. **Логирование**: Настройте безопасное логирование (без секретов в логах)
4. **Резервные копии**: Регулярно делайте бэкапы данных
5. **Мониторинг**: Настройте мониторинг подозрительной активности

## Безопасность в продакшене

Перед развертыванием в продакшене:

- [ ] Настроена аутентификация
- [ ] Включен HTTPS
- [ ] Настроен rate limiting
- [ ] Логирование настроено безопасно
- [ ] Секреты хранятся в защищенном месте
- [ ] Зависимости проверены на уязвимости
- [ ] Настроен мониторинг
- [ ] Проведено тестирование безопасности

## Контакты

При вопросах по безопасности обращайтесь через:
- GitHub Security Advisories
- Issues (для несрочных вопросов)

## Благодарности

Мы благодарим исследователей безопасности, которые ответственно сообщают об уязвимостях.

---

Последнее обновление: 2025-01-17
